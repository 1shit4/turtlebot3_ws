# Autonomous Navigation with TurtleBot3 in ROS 2

This project demonstrates a complete robotics software pipeline for a simulated TurtleBot3 using ROS 2 Humble. The project covers manual control, autonomous obstacle avoidance, 2D map creation (SLAM), and autonomous point-to-point navigation (Nav2).

---

## Project Overview

This workspace showcases the following core robotics competencies:

1.  **Teleoperation:** Manually controlling the robot in the Gazebo simulation.
2.  **Obstacle Avoidance:** A custom Python node that uses LiDAR data to prevent collisions.
3.  **SLAM (Mapping):** Using the Cartographer package to generate a 2D map of the environment.
4.  **Autonomous Navigation:** Deploying the Nav2 stack to autonomously navigate the robot within a created map.

## Getting Started

### Prerequisites

*   An Ubuntu 22.04 system with a working ROS 2 Humble Hawksbill installation.
*   Gazebo Simulator (usually installed with ROS 2).
*   The official TurtleBot3 simulation packages (`ros-humble-turtlebot3-simulations`).

### Installation & Setup

1.  **Set the TurtleBot3 Model:**
    Before launching, you must set the `TURTLEBOT3_MODEL` environment variable in your terminal. This project uses the `waffle` model.
    ```bash
    export TURTLEBOT3_MODEL=waffle
    ```

2.  **Clone the Repository:**
    Create a new workspace and clone this repository into its `src` directory.
    ```bash
    mkdir -p ~/turtlebot3_project_ws/src
    cd ~/turtlebot3_project_ws/src
    git clone https://github.com/1shit4/turtlebot3_ws.git
    ```

3.  **Install Dependencies:**
    From the root of your workspace (`~/turtlebot3_project_ws`), run `rosdep` to install any missing system dependencies.
    ```bash
    cd ~/turtlebot3_project_ws
    rosdep install -i --from-path src --rosdistro humble -y
    ```

4.  **Build the Workspace:**
    Compile all the packages in the workspace.
    ```bash
    colcon build
    ```

5.  **Source the Workspace:**
    Before running any nodes, you must source the workspace's setup file in each new terminal you open.
    ```bash
    source ~/turtlebot3_project_ws/install/setup.bash
    ```

---

## How to Run the Demos

**Note:** Remember to set the `TURTLEBOT3_MODEL` and `source` the workspace in each new terminal you use for these demos.

### 1. Obstacle Avoidance

This demo runs the custom Python node to navigate while avoiding obstacles.

*   **Terminal 1: Launch the Simulation**
    ```bash
    ros2 launch turtlebot3_gazebo turtlebot3_world.launch.py
    ```
*   **Terminal 2: Run the Avoider Node**
    ```bash
    ros2 run tb3_obstacle_avoider avoider
    ```

### 2. SLAM (Creating a Map)

This launches the system required to map an environment.

*   **Terminal 1: Launch Gazebo**
    ```bash
    ros2 launch turtlebot3_gazebo turtlebot3_world.launch.py
    ```
*   **Terminal 2: Launch Cartographer & RViz**
    ```bash
    ros2 launch turtlebot3_cartographer cartographer.launch.py use_sim_time:=True
    ```
*   **Terminal 3: Launch Manual Control**
    ```bash
    ros2 run turtlebot3_teleop teleop_key
    ```
    Drive the robot to build the map, then save it from a new terminal:
    `ros2 run nav2_map_server map_saver_cli -f maps/my_new_map`

### 3. Autonomous Navigation

This launches the Nav2 stack and allows the robot to navigate on a pre-made map.

*   **Terminal 1: Launch Gazebo**
    ```bash
    ros2 launch turtlebot3_gazebo turtlebot3_world.launch.py
    ```
*   **Terminal 2: Launch the Nav2 Stack**
    ```bash
    # Make sure to use the correct path to your map file
    ros2 launch turtlebot3_navigation2 navigation2.launch.py use_sim_time:=True map:=$HOME/turtlebot3_project_ws/src/YOUR_REPO_NAME/maps/my_world_map.yaml
    ```
Once RViz loads, use the **"2D Pose Estimate"** tool to initialize the robot's position, then use the **"Nav2 Goal"** tool to set a destination.

---

## Workspace Packages

*   **/tb3_obstacle_avoider**: Contains the custom Python node for obstacle avoidance.
*   **/maps**: Contains map files (`.yaml` and `.pgm`) generated by the SLAM process.